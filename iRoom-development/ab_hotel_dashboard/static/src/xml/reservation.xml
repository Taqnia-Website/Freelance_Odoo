<template id="template" xml:space="preserve">

    	<t t-name="hotel_dashboard_reservation">
            <script src="https://cdn.jsdelivr.net/npm/apexcharts"/>

            <div class="scroll-container-main">
                <div class="row">
                    <div class="col-4"></div>
                    <div class="col-4">
                        <div class="row date_filter_values">
                            <div class="col-5">
                                <DateTimeInput value="getDateFrom" type="'date'"
                                               placeholder="fromPlaceholder" onChange.bind="onDateFromChanged"/>
                            </div>
                            <div class="col-2">
                                <i class="oi oi-arrow-right"/>
                            </div>
                            <div class="col-5">
                                <DateTimeInput value="getDateTo" type="'date'"
                                               placeholder="toPlaceholder" onChange.bind="onDateToChanged"/>
                            </div>
                        </div>

                    </div>
                    <div class="col-4 text-center">
                        <MultiRecordSelector
                                placeholder="' ' + translate(filter.label)"
                                resModel="filter.modelName"
                                resIds="state.hotel_id || []"
                                domain="getDomain"
                                update="(resIds) => this.onTagSelected(filter.id, resIds)"/>
                    </div>
                </div>

                <div class="row mt-3 p-1">
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-header">
                                <h4 class="card-title">Reservations</h4>
                            </div>
                            <div class="card-content">
                                <div class="card-body justify-content-center" style="max-height:300px;">
<!--                                    <canvas id="myDoughnutChart"/>-->
                                    <div id="reservationsChart"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-header">
                                <h4 class="card-title">Guests Check-In</h4>
                            </div>
                            <div class="card-content">
                                <div class="card-body justify-content-center">
                                    <div class="row">
                                        <div id="checkedInContainer" class="scroll-container col-4">
                                            <h3><i class="fa fa-plane"/>Arrival</h3>
                                            <ul id="checkedInList"/>
                                        </div>
                                        <div id="checkedOutContainer" class="scroll-container col-4">
                                            <h3><i class="fa fa-plane"/>Departure</h3>
                                            <ul id="checkedOutList"/>
                                        </div>
                                        <div id="inHouseContainer" class="scroll-container col-4">
                                            <h3><i class="fa fa-hotel"/>In House</h3>
                                            <ul id="inHouseList"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row p-1">
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-header">
                                <h4 class="card-title">Total Adults and Children by Country</h4>
                            </div>
                            <div class="card-content">
                                <div class="card-body justify-content-center" style="max-height:350px;">
                                    <canvas id="adultsChildrenChart"/>
<!--                                    <div id="adultsChildrenChart"/>-->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-header">
                                <h4 class="card-title">Guests</h4>
                            </div>
                            <div class="card-content">
                                <div class="card-body justify-content-center">
                                    <div class="row">
                                        <div class="col-6">
                                            <div id="genderChart"/>
                                        </div>
                                        <div class="col-6">
                                            <div id="countryChart"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row p-1">
                <!-- Other dashboard components -->
                    <div class="col-4">
                        <div class="card h-100">
                            <div class="card-header">
                                <h4 class="card-title">Reservation Source</h4>
                            </div>
                            <div class="card-content">
                                <div class="card-body justify-content-center">
                                     <div id="myDoughnutChartSource"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="card h-100">
                            <div class="card-header">
                                <h4 class="card-title">Single or Agent</h4>
                            </div>
                            <div class="card-content">
                                <div class="card-body justify-content-center">
                                    <div id="myBarChartVia"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="card h-100">
                            <div class="card-header">
                                <h4 class="card-title">House Keeping</h4>
                            </div>
                            <div class="card-content">
                                <div class="card-body justify-content-center">
                                    <div id="houseKeepingDoughnutChart"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row p-1">
                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-header">
                                <h4 class="card-title">Rooms</h4>
                            </div>
                            <div class="card-content">
                                <div class="card-body justify-content-center scroll-container">
                                    <table class="table o_list_table">
                                        <thead class="border">
                                            <tr>
                                                <t t-foreach="columns" t-as="column" t-key="column.key">
                                                    <th><t t-esc="column.label"/></th>
                                                </t>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <t t-if="!state.loading">
                                                <t t-foreach="state.roomAvailabilityData" t-as="row" t-key="row.room_type">
                                                    <tr>
                                                        <td><t t-esc="row.room_type"/></td>
                                                        <td><t t-esc="row.total_rooms"/></td>
                                                        <td><t t-esc="row.sold_rooms"/></td>
                                                        <td><t t-esc="row.available_rooms"/></td>
                                                        <td>
                                                            <i t-if="row.status == 'Available'" class="fa fa-circle" style="color:green"/>
                                                            <i t-elif="row.status == 'Partial Available'" class="fa fa-circle" style="color:orange"/>
                                                            <i t-else="'" class="fa fa-circle" style="color:red;"/>
                                                            <t t-esc="row.status"/>
                                                        </td>
                                                    </tr>
                                                </t>
                                            </t>
                                            <t t-else="">
                                                <tr>
                                                    <td colspan="5">Loading...</td>
                                                </tr>
                                            </t>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="card-footer justify-content-center">
                                    <h4 class="card-title">Rooms Occupied / Available</h4>
                                    <div class="text-center">
                                        <div id="occupiedRoomDoughnutChart"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-6">
                        <div class="card h-100">
                            <div class="card-header">
                                <h4 class="card-title">Occupancy</h4>
                            </div>
                            <div class="card-content">
                                <div class="card-body justify-content-center">
                                    <div id="occupancyBarChart"/>
                                </div>

                                <div class="card-footer justify-content-center">
                                    <div class="table-responsive" t-if="!state.occupyLoading">
                                        <table class="table o_list_table occupy_table">
                                            <thead class="thead-light">
                                                <tr>
                                                    <th scope="col"/>
                                                    <t t-foreach="state.occupancyTableData" t-as="row" t-key="`${row.index}-day`">
                                                        <th scope="col"><t t-esc="row.day"/></th>
                                                    </t>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <th scope="row">Occup. in %</th>
                                                    <t t-foreach="state.occupancyTableData" t-as="row" t-key="`${row.index}-occupy`">
                                                        <td><t t-esc="row.occupy"/></td>
                                                    </t>
                                                </tr>
                                                <tr>
                                                    <th scope="row">Arrivals</th>
                                                    <t t-foreach="state.occupancyTableData" t-as="row" t-key="`${row.index}-arrivals`">
                                                        <td><t t-esc="row.arrivals"/></td>
                                                    </t>
                                                </tr>
                                                <tr>
                                                    <th scope="row">Departures</th>
                                                    <t t-foreach="state.occupancyTableData" t-as="row" t-key="`${row.index}-departures`">
                                                        <td><t t-esc="row.departures"/></td>
                                                    </t>
                                                </tr>
                                                <tr>
                                                    <th scope="row">Stay Overs</th>
                                                    <t t-foreach="state.occupancyTableData" t-as="row" t-key="`${row.index}-stays`">
                                                        <td><t t-esc="row.stays"/></td>
                                                    </t>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div t-else="">
                                        <span>Loading....</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

<!--                <div class="row">-->

                    <!-- Other dashboard components -->
                    <!--                    <div class="col-4">-->
                    <!--                    <h3>Rooms</h3>-->
                    <!--                        <canvas id="roomAvailabilityChart"/>-->
                    <!--                </div>-->

                    <!--                    <div class="col-4">-->


                    <!--                    </div>-->
                    <!--                    <div class="col-4">-->


                    <!--                    </div>-->

<!--                </div>-->
                <!--Services-->
                <div class="row p-1">
                    <div class="col-4">
                        <div class="card h-100">
                            <div class="card-header">
                                <h4 class="card-title">Services</h4>
                            </div>
                            <div class="card-content">
                                <t t-if="!state.serviceLoading">
                                    <div class="card-body justify-content-center scroll-container">
                                        <div class="table-responsive">
                                            <table class="table o_list_table">
                                                <thead class="thead-light">
                                                    <tr>
                                                        <th scope="col">Service</th>
                                                        <th scope="col">Orders</th>
                                                        <th scope="col">Total earnings</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <t t-foreach="state.servicesData.services" t-as="row"
                                                       t-key="row.service">
                                                        <tr>
                                                            <th scope="row"><t t-esc="row.service"/></th>
                                                            <td><t t-esc="row.orders"/></td>
                                                            <td><t t-esc="row.earnings"/></td>
                                                        </tr>
                                                    </t>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="card-footer py-50 px-50">
                                        <div class="row text-center mx-0  mb-0">
                                            <div class="col-6 d-flex align-items-between flex-column py-1">
                                                <p class="mb-50">Total Services</p>
                                                <p class="font-large-1 text-bold-700 mb-50"><t t-esc="state.servicesData.total_orders"/></p>
                                            </div>
                                            <div class="col-6 d-flex align-items-between flex-column py-1">
                                                <p class="mb-50">Total earnings</p>
                                                <p class="font-large-1 text-bold-700 mb-50"><t t-esc="state.servicesData.total_earnings"/></p>
                                            </div>
                                        </div>
                                    </div>
                                </t>
                            </div>
                        </div>
                    </div>

                    <div class="col-8">
                        <div class="card h-100">
                            <div class="card-header">
                                <h4 class="card-title">Reservations Rating</h4>
                            </div>
                            <div class="card-content">
                                <div class="card-body justify-content-center">
                                    <div class="table-responsive" t-if="!state.ratingLoading">
                                        <table class="table o_list_table occupy_table">
                                            <thead class="thead-light">
                                                <tr>
                                                    <th scope="col"/>
                                                    <th scope="col"><i class="fa fa-bath"/>Cleanliness</th>
                                                    <th scope="col"><i class="fa fa-bed"/>Comfort</th>
                                                    <th scope="col"><i class="fa fa-users"/>Staff</th>
                                                    <th scope="col"><i class="fa fa-coffee"/>Services</th>
                                                    <th scope="col"><i class="fa fa-line-chart"/>Overall Rate</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <t t-foreach="state.ratingTableData" t-as="row" t-key="`${row.index}-rate`">
                                                        <td style="font-weight:bold;"><t t-esc="row.reservation_name"/></td>
                                                        <td><t t-esc="row.cleanliness"/></td>
                                                        <td><t t-esc="row.comfort"/></td>
                                                        <td><t t-esc="row.staff"/></td>
                                                        <td><t t-esc="row.services"/></td>
                                                        <td style="font-weight:bold;"><t t-esc="row.rate"/></td>
                                                    </t>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div t-else="">
                                        <span>Loading....</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </t>
</template>
