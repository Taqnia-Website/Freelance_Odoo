<?xml version="1.0" ?>
<!--
Copyright (C) 2015 DevIntelle Consulting Service Pvt.Ltd (<http://www.devintellecs.com>).

For Module Support : devintelle@gmail.com  or Skype : devintelle
 -->
<odoo>
    <record id="template_dev_task_overdue_reminder" model="mail.template">
        <field name="name">Task Overdue Reminder</field>
        <field name="subject">Task Deadline Overdue Reminder</field>
        <field name="email_from">{{user.company_id and user.company_id.email or ''}}</field>
        <field name="partner_to">{{object.partner_id.id}}</field>
        <field name="model_id" ref="base.model_res_users"/>
        <field name="body_html"><![CDATA[
            <div style="background-color:#F3F5F6;color:#515166;font-family:Arial,Helvetica,sans-serif;font-size:14px;">
                <p>Hello, <strong><t t-out="object.name"/></strong></p>
                <br/>
                <p>Deadline of some tasks has already been passed, see details below</p>
                <table border=1 width=80% style='margin-top: 20px;border-collapse: collapse;'>
                    <tr>
                        <th width=30% style='background:#e0e1e2;padding:5px'> Task </th>
                        <th width=30% style='background:#e0e1e2;padding:5px'> Project </th>
                        <th width=20% style='background:#e0e1e2; padding:5px'> Deadline </th>
                        <th width=20% style='background:#e0e1e2; padding:5px'> Overdue Days </th>
                    </tr>
                    <span t-set="task_details" t-value="object.get_overdue_task_details(object)"/>
                    <t t-if="task_details">
                        <tr t-foreach="task_details" t-as="task">
                            <td style='padding:5px'>
                                <span t-esc="task['name']"/>
                            </td>
                            <td style='padding:5px'>
                                <span t-esc="task['project']"/>
                            </td>
                            <td style='padding:5px'>
                                <span t-esc="task['deadline']"/>
                            </td>
                            <td style='padding:5px'>
                                <span t-esc="task['overdue_days']"/>
                            </td>
                        </tr>
                    </t>
                </table>
            </div>
        ]]></field>
    </record>
      <record id="template_dev_task_send_by_mail" model="mail.template">
        <field name="name">Task Send By Mail</field>
        <field name="subject">Task Details with its Document</field>
        <field name="email_from">{{user.company_id and user.company_id.email or ''}}</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="body_html"><![CDATA[
            <div style="background-color:#F3F5F6;color:#515166;font-family:Arial,Helvetica,sans-serif;font-size:14px;">
                <p>Hello,</strong></p>
                </div>
                <br/>
                <p>Task Details are as below</p>
                  <br/>
                <p>
                <p>
                    <strong>Task : </strong><t t-out='object.name'/><br/>
                    <strong>Project : </strong><t t-out="object.project_id and object.project_id.name or ''"/><br/>
                    <strong>Deadline : </strong><t t-out="object.get_task_deadline()"/><br/>
                
                </p>
                <br/>
                <p>Document related to this task are attached with this email</p>
                <br/>

        ]]></field>
    </record>
     <record id="email_template_timesheet_reminder" model="mail.template">
            <field name="name">Task Remaining Hours Reminder</field>
            <field name="email_from">{{(object.company_id.email or '')}}</field>
            <field name="subject">Work is Remaining on Task</field>
            <field name="partner_to"></field>
            <field name="model_id" ref="project.model_project_task"/>
            <field name="body_html"><![CDATA[
				<p>Hello </p>

				<p>This is gentle reminder to you that you have work pending on <b><t t-out="object.name"></t></b> Task.</p>
				<p>Details of task is as below</p>
				<br/>
				<table width="25%" class="table-bordered">
				<tr>
					<th width="15%" style>Allocated Time</th>
					<td width="10%"><t t-out="object.allocated_hours"></t>hours</th>
				</tr>
				<tr>
					<th width="15%">Hours Spend</th>
					<td width="10%"><t t-out="object.effective_hours"></t>hours</th>
				</tr>
				<tr>
					<th width="15%">Remaining Hours</th>
					<td width="10%"><t t-out="object.remaining_hours"></t>hours</th>
				</tr>
				<tr>
					<th width="15%">Progress</th>
					<td width="10%"><t t-out="object.progress"></t>%</th>
				</tr>
				</table>
			    
			    <t t-set="company" t-value="object.company_id"/>
				<br/>
				<br/>
				<div style="font-family: 'Lucica Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">
				<div style="width: 375px; margin: 0px; padding: 0px; background-color: #8E0000; border-top-left-radius: 5px 5px; border-top-right-radius: 5px 5px; background-repeat: repeat no-repeat;">
					<h3 style="margin: 0px; padding: 2px 14px; font-size: 12px; color: #DDD;">
						<strong style="text-transform:uppercase;"><t t-out="company.name"></t></strong></h3>
				</div>
				<div style="width: 375px; margin: 0px; padding: 5px 14px; line-height: 16px; background-color: #F2F2F2;">
					<span style="color: #222; margin-bottom: 5px; display: block; ">
					<t t-if="company.street">
						<t t-out="company.street"></t><br/>
					</t>
					<t t-if="company.street2">
						<t t-out="company.street2"></t><br/>
					</t>
					<t t-if="company.city or company.zip">
						<t t-out="company.zip"></t><br/>
						<t t-out="company.city"></t></br>
					</t>
					<t t-if="company.country_id">
						<span t-esc="company.state_id and  company.state_id.name or ''"/><br/>
						<span t-esc="company.country_id and  company.country_id.name or ''"/><br/>
					</t>
					</span>
					<t t-if="company.phone">
						<div style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; ">
							Phone:&nbsp; <t t-out="company.phone"></t>
						</div>
					</t>
					<t t-if="company.website">
						<div>
							Web :&nbsp;<a href="<t t-out="company.website"></t>"<t t-out="company.website"></t></a>
						</div>
					</t>
					<p></p>
				</div>
				</div>
				]]></field>
        </record>
</odoo>
