<?xml version="1.0" encoding="utf-8"?>
<!--
Copyright (C) 2015 DevIntelle Consulting Service Pvt.Ltd (<http://www.devintellecs.com>).

For Module Support : devintelle@gmail.com  or Skype : devintelle
 -->
<!--Form View -->
<odoo>
    <record id="task_sequnce_inherited" model="ir.ui.view">
        <field name="name">sequnce.task.inherited</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_form2"/>
        <field name="arch" type="xml">
                <xpath expr="//sheet//widget[@name='web_ribbon']" position="before">
                   <h3>
                    <field name="task_seq"/>
                   </h3>
                </xpath>
                <xpath expr="//notebook" position="inside">
                <page string="Checklist">
                    <group>
                        <group>
                            <field name="checklist_ids" widget="many2many_checkboxes" nolabel="1"/>
                        </group>
                        <group>
                            <field name="checklist_progress" widget="percentpie" nolabel="1"/>
                        </group>
                    </group>
                </page>
			</xpath>
                <xpath expr="//header" position="inside">
                <button name="task_send_by_mail" string="Send by Email" type="object" class="oe_highlight"/>
            </xpath>
                   <xpath expr="//field[@name='user_ids']" position="after">
            <field name="meeting_id"/>
         </xpath>
           <xpath expr="//group[1]//group[1]" position="inside">
                <field name="send_reminders"/>
            </xpath>
         <xpath expr="//label[@for='repeat_interval']" position="before">
                <field name="overdue_days" invisible='overdue_days &#60;= 0' />
                
            </xpath>
         <xpath expr="//div[@class='oe_button_box']//button[1]" position="before">
              <button name="action_view_meeting"
                      type="object"
                      string="Meeting"
                      class="oe_stat_button"
                      icon="fa-external-link"/>
		 </xpath>
		 <xpath expr="//header" position="inside">
              <button type="action"
                      name="%(dev_all_in_one_task.action_create_new_meeting)d"
                      string="Create Meeting"
                      class="oe_highlight"/>
		 </xpath>
                <xpath expr="//sheet//group//group//field[@name = 'partner_id']" position="after">
		   <field name ='lead_id'/>
    	       </xpath>
    	         <xpath expr="//notebook" position="inside">
                <page string="Custom Fields">
                    <field name="task_custom_lines" context="{'t_id':active_id}" nolabel="1">
                        <tree>
                            <field name="task_custom_id" string="Field"/>
                            <field name="value_ref" string="Field Values"/>
                        </tree>
                    </field>
                </page>
            </xpath>
    	       <xpath expr="//field[@name='partner_id']" position="after">
                <field name="task_priority" widget="priority"/>
            </xpath>
             <xpath expr="//group[1]//group[1]" position="inside">
                <field name="task_start_date" invisible="1"/>
            </xpath>
            <xpath expr="//header" position="inside">
                <button name="start_task" type="object" invisible="task_start_date != False" string="Start Task" class="oe_highlight"/>
                <!-- attrs="{'invisible':[('task_start_date','!=',False)]}" -->
                <button name="end_task" type="object" string="End Task" invisible="task_start_date == False" class="oe_highlight"/>
                <!-- attrs="{'invisible':[('task_start_date','=',False)]}" -->
            </xpath>
        </field>
    </record>  
      <record id="project_task_timesheet_view" model="ir.ui.view">
        <field name="name">project.task.timesheet.view</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="hr_timesheet.view_task_form2_inherited"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='allocated_hours']" position="after">
                <field name="task_start_date" readonly="1"/>
            </xpath>
        </field>
    </record>
     <record id="task_list_inherited" model="ir.ui.view">
        <field name="name">task.tree.inherited</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.open_view_my_tasks_list_view"/>
        <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="before">
                    <field name="task_seq"/>
                </xpath>
        </field>
    </record>  
     <record id="task_all_list_inherite" model="ir.ui.view">
        <field name="name">sequnce.task.tree.inherited</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.open_view_all_tasks_list_view"/>
        <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="before">
                    <field name="task_seq"/>
                </xpath>
        </field>
    </record>   
    <record id="tree_task_dev_task_checklist_inherited" model="ir.ui.view">
		<field name="name">tree.task.dev.task.checklist.inherited</field>
		<field name="model">project.task</field>
		<field name="inherit_id" ref="project.view_task_tree2"/>
		<field name="arch" type="xml">
			<xpath expr="//field[@name='stage_id']" position="before">
                <field name="checklist_progress" widget="progressbar"/>
			</xpath>
		</field>
	</record>
<!-- Search View  -->
 
    <record id="task_search_inherited" model="ir.ui.view">
        <field name="name">task.search.inherited</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_search_form"/>
        <field name="arch" type="xml">
                <xpath expr="//search//field[@name='name']" position="before">
                     <field name="task_seq"/>
                </xpath>
        </field>
    </record>   
    
<!--Kanban View   -->

    <record id="task_kanban_inherited" model="ir.ui.view">
        <field name="name">kanban.task.inherited</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_kanban"/>
        <field name="arch" type="xml">
                <xpath expr="//kanban//templates//div[@class='oe_kanban_content']" position="before">
                   <b><field name="task_seq"/></b>
                </xpath>
                <xpath expr="//div[@class='o_kanban_record_top']" position="before">
                <field name="task_priority" widget="priority"/><br/>
            </xpath>
            <xpath expr="//div[@class='o_kanban_record_body']" position="before">
                     <button type="action" 
                             name="%(dev_all_in_one_task.action_task_quick_edit)d"
                             style="font-size:22px;background-color:white;border:0;"
	                         class="fa fa-edit position-absolute top-0 end-0 ml2">
	                 </button>
                </xpath>
                
                <xpath expr="//field[@name='priority']" position="after">
                <field name="task_start_date" readonly="1" invisible="1"/>
            </xpath>
            <xpath expr="//div[@class='o_kanban_record_bottom']//b" position="after">
                <button name="start_task" type="object" invisible="task_start_date != False" string="Start Task" class="btn btn-primary">
                    <!-- attrs="{'invisible':[('task_start_date','!=',False)]}" -->
                    <span>Start Task</span>
                </button>
                <button name="end_task" type="object" string="End Task" invisible="task_start_date == False" class="btn btn-primary">
                    <!-- attrs="{'invisible':[('task_start_date','=',False)]}" -->
                    <span>End Task</span>
                </button>
            </xpath>
        </field>
    </record> 
       <record id="kanban_task_dev_task_checklist_inherited" model="ir.ui.view">
		<field name="name">kanban.task.dev.task.checklist.inherited</field>
		<field name="model">project.task</field>
		<field name="inherit_id" ref="project.view_task_kanban_inherit_my_task"/>
		<field name="arch" type="xml">
			<xpath expr="//div[@class='o_kanban_record_bottom']" position="after">
                <div>
                    <field name="checklist_progress" widget="percentpie"/>
			    </div>
            </xpath>
		</field>
	</record>
</odoo>
