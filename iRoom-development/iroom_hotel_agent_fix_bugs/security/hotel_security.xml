<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data noupdate="0">
    <!--    Rules Reservation Agent    -->
    <record id="hotel_management.agent_group_rule" model="ir.rule">
         <field name="domain_force">[
             '|',
             '&amp;', ('create_uid','=',user.id), ('state', 'not in', ['cancel']),
             '&amp;', ('partner_id', '=', user.partner_id.id), ('state', 'not in', ['draft', 'cancel'])
             ]
         </field>
    </record>
    <record id="reservation_line_agent_group_rule" model="ir.rule">
        <field name="name">Agent Reservation Line Rule</field>
        <field name="model_id" ref="hotel_management.model_hotel_reservation_line"/>
         <field name="domain_force">
[
             '|',
             '&amp;', ('line_id.create_uid','=',user.id), ('line_id.state', 'not in', ['cancel']),
             '&amp;', ('line_id.partner_id', '=', user.partner_id.id), ('line_id.state', 'not in', ['draft', 'cancel'])
             ]
         </field>
        <field name="groups" eval="[(4, ref('hotel_management.group_agent'))]"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_unlink" eval="1"/>
        <field name="perm_create" eval="0"/>
    </record>

    <!--    Rules Folio Agent    -->
    <record id="hotel_management.agent_group_rule_folio" model="ir.rule">
         <field name="domain_force">[
             '|',
             '&amp;', ('create_uid','=',user.id), ('state', 'not in', ['cancel']),
             '&amp;', ('partner_id', '=', user.partner_id.id), ('state', 'not in', ['draft', 'cancel'])
             ]
         </field>
    </record>
    <record id="agent_group_rule_folio_line" model="ir.rule">
        <field name="name">Agent Reservation Line Rule</field>
        <field name="model_id" ref="hotel_management.model_hotel_folio_line"/>
         <field name="domain_force">
[
             '|',
             '&amp;', ('folio_id.create_uid','=',user.id), ('folio_id.state', 'not in', ['cancel']),
             '&amp;', ('folio_id.partner_id', '=', user.partner_id.id), ('folio_id.state', 'not in', ['draft', 'cancel'])
             ]
         </field>
        <field name="groups" eval="[(4, ref('hotel_management.group_agent'))]"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_unlink" eval="1"/>
        <field name="perm_create" eval="0"/>
    </record>
</data>
</odoo>